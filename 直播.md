一. 秒开
1. 获取房间信息：加载视频组件、获取动态信息直播地址 760ms --- 0ms
2. dns解析：local dns回溯根服务器 60ms 
3. 拉流：和点播不通，直播开始播放的不一定是关键帧 890ms --- 320ms
4. 缓存：获取首帧信息 2000ms --- 100ms
5. 解码播放：40ms

1. 预加载和并行处理（视频逻辑、业务逻辑）
2、直通车，域名解析出ip，负载均衡
3、cdn三层架构：源站、二级源soc、三级源oc
4、从关键帧返回数据，gop大小2s 等

二. 房间列表
一致性hash算法
逻辑处理模块 、 房间set（按房间号分set支撑成员列表）
多级冗余防单点和容灾
支持特殊配置 指定房间号到固定set

三. 消息送礼服务
1、对房间服务拉取压力大： 缓存 + 多机拉取（冗余机器）
2、大房间消息扩散大： 消息合并、分级别

1、拉消息还是推消息
2、主播端消息控制
